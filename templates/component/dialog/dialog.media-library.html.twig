{% embed '@SoCore/component/dialog.html.twig' with {
	dialogId: 'DialogMediaPicker',
	dialogClass: 'dialog-media-picker',
	title: 'widget.mediaPicker.title' | trans,
	sizeClass: 'modal-xl modal-fullscreen-lg-down',
	controllers: 'sowapps--so-core--dialog sowapps--so-core--media-picker-dialog',
	controllerActions: 'so.media-library.request@window->sowapps--so-core--media-picker-dialog#request'
} %}
	{%- block body -%}
		{# Inspired from https://getbootstrap.com/docs/5.0/examples/sidebars/ #}
		<div class="row">
			<div class="col-3 border-end">
				<ul class="nav nav-pills nav-fill flex-column nav-vertical-tabs" data-sowapps--so-core--media-picker-dialog-target="menu">
					{# Auto-generated by sowapps--so-core--media-picker-dialog using key and label #}
				</ul>
				
				<template data-sowapps--so-core--media-picker-dialog-target="menuItemTemplate">
					<li class="nav-item item-media-picker" hidden>{# Hidden by default, visible only if required by file input #}
						<button class="nav-link" data-bs-toggle="tab" data-bs-target="#{ panelId }" type="button" role="tab">{ label }</button>
					</li>
				</template>
			</div>
			<div class="col-9">
				<div class="tab-content media-picker-nav-body">
					
					<div class="tab-pane fade" role="tabpanel">
						{% include '@SoCore/component/picker/picker.file.upload.html.twig' %}
					</div>
					<div class="tab-pane fade" role="tabpanel">
						{% include '@SoCore/component/picker/picker.file.library.html.twig' %}
					</div>
				
				</div>
			</div>
		</div>
	
	{%- endblock -%}
	{%- block footer -%}
		<button type="button" class="btn btn-outline-secondary" data-sowapps--so-core--confirm-dialog-target="cancel"
				data-action="click->sowapps--so-core--confirm-dialog#cancel">
			{{- 'action.cancel' | trans -}}
		</button>
		<button type="submit" name="submitConfirm" class="btn btn-primary" data-sowapps--so-core--confirm-dialog-target="confirm">
			{{- 'action.select' | trans -}}
		</button>
	{%- endblock -%}
{% endembed %}
